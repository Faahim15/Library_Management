{% extends 'base.html'%}

{% block content %}
<div class="m-10 flex flex-col max-w-sm mr-auto border border-gray-300 rounded-lg shadow-lg p-4">
  <h3 class="text-md font-bold text-white-800 mb-6">Filter books by category name</h3>
  {% for cat in category %}
  <a href="{%url 'category_wise_post' cat.slug %}"
    class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mt-4  max-w-sm ">
    {{cat.books_category }}</a>
  {% endfor %}

</div>

<div class="container mx-auto flex items-center justify-center h-full">
  <p class="max-w-sm text-center bg-black text-white p-4 rounded-md border border-blue-700 shadow-lg">
    Total available books are {{ books | length }}
  </p>
</div>


<div class="flex flex-wrap justify-center gap-5 m-10">
  {%for book in books%}
  <div class="max-w-sm w-full lg:max-w-full lg:flex">
    <div
      class="h-48 lg:h-auto lg:w-48 flex-none bg-cover rounded-t lg:rounded-t-none lg:rounded-l text-center overflow-hidden"
      style="background-image: url('{{book.image.url}}')" title="Woman holding a mug">
    </div>
    <div
      class="border-r border-b border-l border-gray-400 lg:border-l-0 lg:border-t lg:border-gray-400 bg-white rounded-b lg:rounded-b-none lg:rounded-r p-4 flex flex-col justify-between leading-normal">
      <div class="mb-8">
        <p class="text-sm text-gray-600 flex items-center">
          <svg class="fill-current text-gray-500 w-3 h-3 mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
            <path
              d="M4 8V6a6 6 0 1 1 12 0v2h1a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h1zm5 6.73V17h2v-2.27a2 2 0 1 0-2 0zM7 6v2h6V6a3 3 0 0 0-6 0z" />
          </svg>
          {{book.books}}
        </p>
        <div class="text-gray-900 font-bold text-xl mb-2">{{book.title}}</div>
        <p class="text-gray-700 text-base">{{ book.description|truncatechars:100 }}</p>
      </div>
      <div class="flex items-center">
        <!-- <img class="w-10 h-10 rounded-full mr-4" src="/img/jonathan.jpg" alt="Avatar of Jonathan Reinink"> -->
        <div>
          <h4 style="color: #5A67D8 !important; " class="font-bold">Price: {{book.book_price}}$</h4>
          <div class="con mt-8">
            <a href="{% url 'book_details' book.id%}"
              class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full">
              Book Details
            </a>
          </div>

        </div>
      </div>
    </div>
  </div>
  {%endfor%}

</div>

{% endblock %}